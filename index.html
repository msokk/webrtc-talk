<!DOCTYPE html>
<!-- Based on Google HTML5 slide template
     http://code.google.com/p/html5slides/ -->
<html>
  <head>
    <title>WebRTC</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Kameron|Muli|Open+Sans:regular,semibold,italic,italicsemibold&amp;v2">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body style="display: none">

    <section class="slides layout-regular">

      <article class="title">
        <h1 class="icon big">WebRTC</h1>
        <p>
          Mihkel Sokk
          <br>
          Desk Rock Technight #1
        </p>
        <div class="source">
          <a href="http://www.flickr.com/photos/ironrodart/4155664186/sizes/l/in/photostream/">http://www.flickr.com/photos/ironrodart/4155664186/sizes/l/in/photostream/</a>
        </div>
      </article>

      <article>
        <h3>WebRTC</h3>
        <ul class="build">
          <li>Real-time video/voice and P2P connections in the browser</li>
          <li>Plugin-free</li>
          <li>Exposed through simple Javascript APIs</li>
          <li>MediaStreams, PeerConnection API & DataChannel</li>
          <li>Developed by Google, Mozilla, Opera and Microsoft</li>
          <li>Skypezilla?</li>
        </ul>
      </article>

      <article>
        <h3>Accessing your camera</h3>
        <section>
          <pre>
&lt;video autoplay controls&gt;&lt;/video&gt;
&lt;script&gt;
  navigator.getUserMedia({video: true}, function(stream) {

    var video = document.querySelector('video');
    video.src = window.URL.createObjectURL(stream);

  }, function(error) {

    // We failed - user denied or there is no camera
    console.log("Failed to get a stream due to", error);

  });
&lt;/script&gt;
          </pre>
        </section>
      </article>

      <article class="centered">
        <h3>Accessing your camera - example</h3>
        <section>
          <video id="demovideo" autoplay controls></video>
          <br>
          <button id="camerademo" class="demo">Give me video</button>
        </section>
      </article>

      <article class="centered">
        <h3>The Black Box (ok... green)</h3>
        <section>
          <img src="images/architecture.png">
        </section>
      </article>

      <article>
        <h3>PeerConnection</h3>
          <ul>
            <li>Allows two browsers to exchange multimedia streams directly</li>
            <li>Coordinated via signalling channel - AJAX or WebSockets</li>
            <li>Accepts video/audio streams from getUserMedia</li>
          </ul>
      </article>

        <article>
        <h3>PeerConnection - Example</h3>
        <section>
          Slide outdated!
          <br>
          <a href="http://www.html5rocks.com/en/tutorials/webrtc/basics/">HTML5Rocks article</a>
        </section>
      </article>

      <article>
        <h3>DataChannel</h3>
        <section>
          <a href="http://www.youtube.com/watch?v=E8C8ouiXHHk#t=24m35s">DataChannel video</a>
        </section>
      </article>

      <article>
        <h3>Browser support</h3>
        <ul>
          <li><b>Chrome 21</b> - 23 for PeerConnection</li>
          <li><b>Opera 12+</b></li>
          <li><b>Firefox 18</b> - <a href="https://hacks.mozilla.org/2012/09/full-webrtc-support-is-soon-coming-to-a-web-browser-near-you/">January 2013</a></li>
          <li><b>Internet Explorer</b> - <a href="http://html5labs.com/prototypes/media-capture-api-(2nd-updated)/media-capture-api-(2nd-update)/documentation#_Toc319695225">Media Capture Prototype</a> or Chrome Frame</li>
          <li><b>Safari</b> - walled garden of FaceTime</li>
        </ul>
      </article>

      <article>
        <h3>More cool demos</h3>
        <ul>
          <li><a href="http://neave.com/webcam/html5/">Neave's HTML5 Webcam Toy</a></li>
          <li><a href="http://neave.github.com/face-detection/">Face Detection</a></li>
          <li><a href="https://apprtc.appspot.com/">AppRTC - 1:1 video calling app</a></li>
          <li>Live Video in WebGL</li>
          <li><a href="http://www.soundstep.com/blog/experiments/jsdetection/">Play Xylophone with your hands</a></li>
          <li><a href="http://html5-demos.appspot.com/static/getusermedia/photobooth.html">CSS Filters photobooth</a></li>
          <li><a href="http://auduno.github.com/headtrackr/examples/targets.html">WebRTC Headtracking</a></li>
        </ul>
      </article>

      <article>
        <h1>Thanks!</h1>
        <section>
          Read more at <a href="http://www.webrtc.org/">webrtc.org</a>
          <br>
          or watch <a href="http://www.youtube.com/watch?v=E8C8ouiXHHk#t=24m35s">Google I/O 2012 Talk</a>
        </section>
      </article>
    </section>


    <script src="http://html5slides.googlecode.com/svn/trunk/slides.js"></script>
    <script>
      // normalize window.URL
      window.URL || (window.URL = window.webkitURL || window.msURL || window.oURL);


      /**
       * Camera demo
       *
       * gotStream - called when user grants access to camera
       * noStream - called when error occurs or user denies the access of camera
       */
      var gotStream = function(stream) {
        // See http://code.google.com/p/chromium/issues/detail?id=91136
        if(window.location.protocol.match('file')) {
          alert('createObjectURL does not work on the local filesystem in Chrome!');
          return;
        }

        var video = document.querySelector('#demovideo');
        video.src = window.URL.createObjectURL(stream);
      };

      var noStream = function(error) {
        // We failed - user denied or there is no camera
        console.log("Failed to get a stream due to", error);
      };

      var btn = document.querySelector('#camerademo');
      btn.addEventListener('click', function() {

        // Opera has up to date implementation
        if (navigator.getUserMedia) {
          navigator.getUserMedia({video: true}, gotStream, noStream);
        } else {
          navigator.webkitGetUserMedia({video: true}, gotStream, noStream);
        }

      }, false);
    </script>
  </body>
</html>
